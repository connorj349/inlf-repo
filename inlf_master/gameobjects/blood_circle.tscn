[gd_scene load_steps=33 format=3 uid="uid://iqh4xsy8co44"]

[ext_resource type="FontFile" uid="uid://qgku7moi1efd" path="res://fonts/scribbles.ttf" id="1"]
[ext_resource type="Texture2D" uid="uid://dpg6lhpb443or" path="res://effects/textures/summon_circle.png" id="2"]
[ext_resource type="Script" path="res://gameobjects/blood_circle.gd" id="3"]
[ext_resource type="AudioStream" uid="uid://bdhelfruq182l" path="res://sound/sounds/ambience/chant.wav" id="4"]
[ext_resource type="Texture2D" uid="uid://cti8w3oy52amv" path="res://effects/textures/cloud_circle.png" id="5"]
[ext_resource type="Texture2D" uid="uid://c6dytd1koi856" path="res://effects/textures/skull.png" id="6"]

[sub_resource type="Gradient" id="1"]
offsets = PackedFloat32Array(0.0869565, 0.496894, 0.919255)
colors = PackedColorArray(0, 0, 0, 1, 0.455078, 0, 0, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="2"]
gradient = SubResource("1")

[sub_resource type="Curve" id="3"]
_data = [Vector2(0, 0.684091), 0.0, 0.0, 0, 0, Vector2(0.494565, 0.902273), 0.0, 0.0, 0, 0, Vector2(1, 0.665909), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="4"]
curve = SubResource("3")

[sub_resource type="ParticleProcessMaterial" id="5"]
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("4")
color_ramp = SubResource("2")

[sub_resource type="StandardMaterial3D" id="6"]
transparency = 1
blend_mode = 1
cull_mode = 2
shading_mode = 0
albedo_color = Color(0.627451, 0, 0, 1)
albedo_texture = ExtResource("2")

[sub_resource type="QuadMesh" id="7"]
material = SubResource("6")
size = Vector2(5, 5)

[sub_resource type="StandardMaterial3D" id="14"]
transparency = 1
blend_mode = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("5")

[sub_resource type="Gradient" id="15"]
offsets = PackedFloat32Array(0, 0.558824, 1)
colors = PackedColorArray(0.126465, 0, 0, 1, 0.215686, 0, 0.27451, 0.243137, 1, 0.0153846, 0, 1)

[sub_resource type="GradientTexture2D" id="16"]
gradient = SubResource("15")

[sub_resource type="Curve" id="17"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.511364), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="18"]
curve = SubResource("17")

[sub_resource type="ParticleProcessMaterial" id="19"]
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("18")
color_ramp = SubResource("16")

[sub_resource type="QuadMesh" id="20"]

[sub_resource type="StandardMaterial3D" id="21"]
transparency = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("6")
billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="Curve" id="22"]
_data = [Vector2(0, 0.876498), 0.0, 0.0, 0, 0, Vector2(1, 0.440134), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="23"]
curve = SubResource("22")

[sub_resource type="ParticleProcessMaterial" id="24"]
emission_shape = 1
emission_sphere_radius = 1.5
direction = Vector3(0, 1, 0)
spread = 90.0
gravity = Vector3(0, 5, 0)
scale_curve = SubResource("23")
color = Color(0.47451, 0, 0, 0.878431)

[sub_resource type="QuadMesh" id="25"]

[sub_resource type="BoxShape3D" id="8"]

[sub_resource type="FontFile" id="9"]
fallbacks = Array[Font]([ExtResource("1")])
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0
cache/0/16/0/kerning_overrides/16/0 = Vector2(0, 0)

[sub_resource type="FontFile" id="10"]
fallbacks = Array[Font]([ExtResource("1")])
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0
cache/0/16/0/kerning_overrides/16/0 = Vector2(0, 0)

[sub_resource type="Animation" id="11"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasLayer/Info/VBoxContainer/Label2:theme_override_colors/font_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CanvasLayer/Info/VBoxContainer/Label:theme_override_colors/font_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="12"]
resource_name = "fade_in"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasLayer/Info/VBoxContainer/Label2:theme_override_colors/font_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CanvasLayer/Info/VBoxContainer/Label:theme_override_colors/font_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_5mjdt"]
_data = {
"RESET": SubResource("11"),
"fade_in": SubResource("12")
}

[sub_resource type="BoxShape3D" id="13"]
size = Vector3(14, 4, 14)

[node name="blood_circle" type="StaticBody3D" node_paths=PackedStringArray("anim_player")]
collision_layer = 2
collision_mask = 0
script = ExtResource("3")
anim_player = NodePath("AnimationPlayer")

[node name="circle" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.3, 0)
amount = 1
process_material = SubResource("5")
draw_pass_1 = SubResource("7")

[node name="cloud" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.15, 0)
material_override = SubResource("14")
amount = 10
process_material = SubResource("19")
draw_pass_1 = SubResource("20")

[node name="skulls" type="GPUParticles3D" parent="."]
material_override = SubResource("21")
cast_shadow = 0
process_material = SubResource("24")
draw_pass_1 = SubResource("25")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("4")
pitch_scale = 0.75
autoplay = true
bus = &"SoundFX"

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("8")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Info" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Info"]
layout_mode = 0
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -208.0
offset_top = -69.0
offset_right = 208.0
offset_bottom = 69.0

[node name="Label" type="Label" parent="CanvasLayer/Info/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 7
theme_override_colors/font_color = Color(1, 1, 1, 0)
theme_override_fonts/font = SubResource("9")
text = "BLOOD CIRCLE"

[node name="Label2" type="Label" parent="CanvasLayer/Info/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 0)
theme_override_fonts/font = SubResource("10")
text = "unholy circle used to sew chaos"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_5mjdt")
}

[node name="Area3D" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)
shape = SubResource("13")

[connection signal="body_exited" from="Area3D" to="." method="_on_Area_body_exited"]
